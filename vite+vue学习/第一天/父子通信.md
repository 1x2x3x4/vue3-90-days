父组件给子组件通信

父组件：
```js
<script setup>

import sonCom from './son-com.vue';	//导入子组件页面
import { ref } from 'vue';
const count = ref(100)

setTimeout(() => {
  count.value = 50000
},3000)

</script>

<template>

  <div class="father">
    <h3>父组件App</h3>
    <sonCom :count="count" message="father message"></sonCom>
  </div>

</template>

```

子组件：

```js
<script setup>
const props = defineProps({
    message: String,
    count:Number
})
console.log(props);

</script>

<template>
    <div class="son">
        <h2>子组件Son</h2>
        {{ message }}----{{ count }}
    </div>

</template>
```





子组件给父组件通信

父组件：

```js
<script setup>
import sonCom from './son-com.vue';
const getMessage = (msg) => {
  console.log(msg);  
}

</script>

<template>
  <div class="father">
    <h3>父组件App</h3>
    <!-- 1.绑定事件 -->
    <sonCom @get-message="getMessage"></sonCom>
  </div>
</template>

```





子组件：

```js
<script setup>
// 2.通过defineEmits() -> emit(this.$emit)
const emit = defineEmits(['get-message'])

const sendmessage = () => {
    // 触发自定义事件，传数据给父组件
    emit('get-message','this is son message')
}

</script>

<template>
 <div class="son">
        <div>子组件son</div>
        <button @click="sendmessage">自定义组件发送</button>
 </div>
</template>		
```

 







